<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="PUT /health/retry-after"><title>endpoint in cat_data_service::service::api::health::retry_after_put - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../../static.files/rustdoc-c4dbdcde0fbd8430.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../../../../" data-static-root-path="../../../../../static.files/" data-current-crate="cat_data_service" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0-nightly (22f247c6f 2023-03-13)" data-search-js="search-d1bc581867fd0849.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" data-theme-light-css="light-db279b6232be9c13.css" data-theme-dark-css="dark-cf923f49f397b216.css" data-theme-ayu-css="ayu-be46fdc453a55015.css" ></div><script src="../../../../../static.files/storage-9184409068f70b79.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../../static.files/main-f5a2577c5297a973.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../../../../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../../../../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" href="../../../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../../../cat_data_service/index.html"><img class="rust-logo" src="../../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../../../cat_data_service/index.html"><img class="rust-logo" src="../../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><div class="sidebar-elems"><h2><a href="index.html">In cat_data_service::service::api::health::retry_after_put</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../../../../index.html">cat_data_service</a>::<wbr><a href="../../../index.html">service</a>::<wbr><a href="../../index.html">api</a>::<wbr><a href="../index.html">health</a>::<wbr><a href="index.html">retry_after_put</a>::<wbr><a class="fn" href="#">endpoint</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../../../src/cat_data_service/service/api/health/retry_after_put.rs.html#67-120">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub(crate) async fn endpoint(
    params: Result&lt;Query&lt;<a class="struct" href="../../../../settings/struct.RetryAfterParams.html" title="struct cat_data_service::settings::RetryAfterParams">RetryAfterParams</a>&gt;&gt;,
    state: Data&lt;&amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../../../state/struct.State.html" title="struct cat_data_service::state::State">State</a>&gt;&gt;
) -&gt; UniResponse&lt;Empty, Empty, Empty, Empty, Empty, Empty, Empty, <a class="struct" href="../../../common/responses/resp_2xx/struct.NoContent.html" title="struct cat_data_service::service::common::responses::resp_2xx::NoContent">NoContent</a>, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, <a class="struct" href="../../../common/responses/resp_4xx/struct.ApiValidationError.html" title="struct cat_data_service::service::common::responses::resp_4xx::ApiValidationError">ApiValidationError</a>, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, <a class="struct" href="../../../common/responses/resp_5xx/struct.ServerError.html" title="struct cat_data_service::service::common::responses::resp_5xx::ServerError">ServerError</a>, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty, Empty&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="put-healthretry-after"><a href="#put-healthretry-after">PUT /health/retry-after</a></h2>
<p>Configuration of the “retry-after” for 503 responses endpoint.</p>
<p>During the service runtime, when disconnects to the database happen,
the appropriate response status code is 503, which includes a string
that is either <code>&lt;delay-secods&gt;</code> or <code>&lt;http-date&gt;</code>.</p>
<p>This endpoint accepts two optional query parameters:</p>
<ul>
<li><code>http-date</code> is the UTC Datetime string, which if set, will be returned in all 503 responses.
Example:  <code>PUT /health/retry-after?http-date=2099-01-31T00:00:00Z</code></li>
<li><code>delay-seconds</code> is number of seconds as a positive integer, which if set, will be returned in
all 503 response.
Example:  <code>PUT /health/retry-after?delay-seconds=120</code></li>
</ul>
<p>If none of the query parameters is present, then the header value will be reset
to the service’s original settings.
Example:  <code>PUT /health/retry-after</code></p>
<p>If no problems occur, this endpoint will always just return 204.</p>
<p>If query parameters are invalid, for example an invalid datetime strinn
In theory it can also return 500 if for some reason a temporary circumstance
is preventing this service from properly serving request.</p>
<p>An example could be the service has started a long and cpu intensive task
and is not able to properly service requests while it is occurring.
This would let the load balancer shift traffic to other instances of this
service that are ready.</p>
<h3 id="responses"><a href="#responses">Responses</a></h3>
<ul>
<li>204 No Content - Service is Ready to serve requests.</li>
<li>400 API Validation Error - If anything within this function fails unexpectedly. (Possible but unlikely)</li>
<li>500 Service  - Service is not ready, do not send other requests.</li>
</ul>
</div></details></section></div></main></body></html>